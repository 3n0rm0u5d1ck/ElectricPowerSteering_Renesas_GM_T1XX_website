---
layout: default
title: P1x_AR4.0_KnownIssues_CW43_2016
nav_order: 3
parent: Renesas Mcal Support
---
{% raw %}
<!DOCTYPE html>

<html>
<head>
	
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.3.7.2 (Linux)"/>
	<meta name="author" content="Human01"/>
	<meta name="created" content="2014-02-11T09:14:01"/>
	<meta name="changedby" content="Matthias"/>
	<meta name="changed" content="2016-10-05T09:26:26"/>
	<meta name="AppVersion" content="14.0300"/>
	<meta name="Company" content="Grizli777"/>
	
	<style type="text/css">
		body,div,table,thead,tbody,tfoot,tr,th,td,p { font-family:"Calibri"; font-size:x-small }
		a.comment-indicator:hover + comment { background:#ffd; position:absolute; display:block; border:1px solid black; padding:0.5em;  } 
		a.comment-indicator { background:red; display:inline-block; border:1px solid black; width:0.5em; height:0.5em;  } 
		comment { display:none;  } 
	</style>
	
</head>

<body>
<table cellspacing="0" border="0">
	<colgroup width="294"></colgroup>
	<colgroup width="113"></colgroup>
	<colgroup width="104"></colgroup>
	<colgroup width="899"></colgroup>
	<colgroup width="1889"></colgroup>
	<colgroup width="1310"></colgroup>
	<colgroup width="1281"></colgroup>
	<colgroup width="155"></colgroup>
	<colgroup width="64"></colgroup>
	<colgroup width="106"></colgroup>
	<colgroup width="166"></colgroup>
	<colgroup width="33"></colgroup>
	<colgroup width="204"></colgroup>
	<tr>
		<td rowspan=2 height="40" align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br><img src="https://jira.renesas.eu/jira-logo-scaled.png" width=57 height=30 hspace=118 vspace=5>
		</font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
		<td align="left" valign=top bgcolor="#164F8A"><font color="#000000"><br></font></td>
	</tr>
	<tr>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000">Displaying 5 issues at 28/Oct/16 05:56 PM</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">External issue ID</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Key</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Components</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Summary</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Description</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Expected Behaviour</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Actual Behaviour</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Impacted Products</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Status</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Fix Version/s</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">Affects Version/s</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">T</font></b></td>
		<td align="left" valign=top bgcolor="#DDDDDD"><b><font color="#000000">End User Product Related</font></b></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">ARDAAAE-2053</font></td>
		<td align="left" valign=top><font color="#000000">FLS</font></td>
		<td align="left" valign=top><font color="#000000">Coding Guidelines' violation in FLS module.</font></td>
		<td align="left" valign=top><font color="#000000">Following violations of Coding Guidelines are found in FLS module. All of the below issues are regarding naming of individual member elements in structure type definitions in file Fls_Types.h.<br><br>1.  Global variable notation 'G' is not required for naming the members in a structure type definition. This violated in Fls module.<br>    eg: volatile uint32 GulSrcDestAddress;   -In type definition of Fls_GstVarProperties<br>Expected: ulSrcDestAddress<br><br><br>2.  Type identifier 'en' is not used for naming of enumerated variables.<br>    eg: volatile Fls_CommandType GucGenCommand; -In type definition of Fls_GstVarProperties<br>Expected: enGenCommand<br><br>Related requirements for point 1 and 2: AAR_PN0084_NR_0066, EAAR_PN0084_NR_0035, Name_Var_001 (ISO26262_AUTOSAR_Embedded_Coding_Guidelines_v2.1.doc)<br><br>3. 'memclass' field is not declared as per 'Autosar compiler abstraction' for members of structure type definitions.<br>   (Autosar syntax for variable declaration : P2CONST(ptrtype, memclass, ptrclass), VAR(vartype, memclass), etc)<br><br>    Example for violated variable: P2CONST(volatile uint8, AUTOMATIC, FLS_INIT_DATA) pBufferAddress; -In type definition of Fls_GstVarProperties<br>Expected: P2CONST(volatile uint8, TYPEDEF, FLS_INIT_DATA)<br><br>As any structure variable has continuous memory allocation, the memory class should be empty for individual members. Ie, no need for specifying memory class for structure members.<br>Violated requirements: COMPILER046, COMPILER059<br>COMPILER046: The memory class AUTOMATIC shall be provided as empty definition, used for the declaration of local pointers.<br>COMPILER046: The memory class TYPEDEF shall be provided as empty definition. This memory class shall be used within type definitions, where no memory qualifier can be specified.</font></td>
		<td align="left" valign=top><font color="#000000">All the Coding Guidelines should be followed.</font></td>
		<td align="left" valign=top><font color="#000000">Some of the Coding Guidelines are violated.</font></td>
		<td align="left" valign=top><font color="#000000">Code</font></td>
		<td align="left" valign=top><font color="#000000">Open</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">Ver4.01.00</font></td>
		<td align="left" valign=top><font color="#000000">Bug</font></td>
		<td align="left" valign=top><font color="#000000">Yes</font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">ARDAAAE-2114</font></td>
		<td align="left" valign=top><font color="#000000">SPI</font></td>
		<td align="left" valign=top><font color="#000000">When the memory modes are configured as Tx Only and Dual Buffer, CSIHMCTL0 register is wrongly set in Spi_HWWriteIB function</font></td>
		<td align="left" valign=top><font color="#000000">In Spi_HWWriteIB function, the CSIHMCTL0 register is updated with SPI_TX_ONLY_MODE_SET under the pre-compile switch #if (SPI_TX_ONLY_MODE == STD_ON). Also in #else statement, the same is updated with the value SPI_DUAL_BUFFER_MODE_SET. <br><br>There should be a conditional check against the memory mode Tx only as well as Dual buffer mode apart from these conditional switches since the possibility of configuring both the modes are present and hence only one mode will be written into CSIHMCTL0 register</font></td>
		<td align="left" valign=top><font color="#000000">A conditional check for the memory mode Tx only / dual buffer shall be done before writing into CSIHMCTL0 register.</font></td>
		<td align="left" valign=top><font color="#000000">A conditional check for the memory mode Tx only / dual buffer is not present.</font></td>
		<td align="left" valign=top><font color="#000000">Code</font></td>
		<td align="left" valign=top><font color="#000000">Open</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">Ver4.01.00, Ver4.01.01</font></td>
		<td align="left" valign=top><font color="#000000">Bug</font></td>
		<td align="left" valign=top><font color="#000000">Yes</font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">ARDAAAE-2116</font></td>
		<td align="left" valign=top><font color="#000000">SPI</font></td>
		<td align="left" valign=top><font color="#000000">Spi_SetAsyncMode() API tries to change mode and not always returning E_NOT_OK if an asynchronous transmission is ongoing</font></td>
		<td align="left" valign=top><font color="#000000">AUTOSAR Requirement SPI171 specifies that :-<br><br>{code}<br>If the function Spi_SetAsyncMode is called while the SPI Handler/Driver status is SPI_BUSY and an asynchronous transmition is in progress, the SPI Han-dler/Driver shall not change the AsyncModeType and keep the mode type as it is. The function shall return the value E_NOT_OK.<br>{code}<br><br>But with current implementation even if driver is busy with asynchronous transmission, Spi_SetAsyncMode() API will change the mode. The particular scenario with which Verification project experienced the issue is shown below :<br><br>* Description file with /Renesas/EcucDefs_Spi/Spi0/SpiGeneral0/SpiPersistentHWConfiguration= true<br>* Calling Spi_AsyncTransmit() and Spi_SetAsyncMode() APIs after one synchronous transmission was executed.<br><br>Root Analysis:<br><br><br>{code:title=Spi_Driver.c, #3314|borderStyle=solid}<br>Spi_GblSyncTx = SPI_TRUE;<br>{code}<br>{code:title=Spi_Driver.c, #3256|borderStyle=solid}<br>#if (SPI_PERSISTENT_HW_CONFIGURATION_ENABLED == STD_OFF)<br>    if (((SPI_TRUE == Spi_GblSyncTx) ||<br>                            (SPI_FALSE == LpJobConfig-&gt;blIsChannelPropSame)))<br>    {<br>      Spi_GblSyncTx = SPI_FALSE;<br>{code}<br>In the above code the parameter 'Spi_GblSyncTx' will be always set to true when a synchronous transmission gets started (Spi_Driver.c line #3256) but will be changed to false only if SpiPersistentHWConfiguration = STD_OFF (Spi_Driver.c line #3314),  after the transmission.<br><br><br>So if *SpiPersistentHWConfiguration = STD_ON*, 'Spi_GblSyncTx' remains true even after synchronous transmission gets completed.<br><br> In this condition if  Spi_SetAsyncMode() API is called 'Spi_GblSyncTx' will be always true and hence proceed after the specified code shown below:<br><br><br>{code:title=Spi.c, Spi_SetAsyncMode()|borderStyle=solid}<br>if (((SPI_BUSY == Spi_GddDriverStatus) &amp;&amp; (SPI_FALSE == Spi_GblSyncTx))<br>         || (Mode &gt; SPI_INTERRUPT_MODE))<br>     /* END Msg(2:1476)-5 */<br>    {<br>      LenReturnValue = E_NOT_OK;<br>    }<br>{code}</font></td>
		<td align="left" valign=top><font color="#000000">Spi_SetAsyncMode() should not set the requested mode and should return E_NOT_OK if called while the SPI Handler/Driver status is SPI_BUSY with an asynchronous transmission</font></td>
		<td align="left" valign=top><font color="#000000">If SpiPersistentHWConfiguration = true, Spi_SetAsyncMode() is not working as per SPI171 after a synchronous transmission.</font></td>
		<td align="left" valign=top><font color="#000000">Code</font></td>
		<td align="left" valign=top><font color="#000000">Analysis</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">Ver4.01.01.D</font></td>
		<td align="left" valign=top><font color="#000000">Bug</font></td>
		<td align="left" valign=top><font color="#000000">Yes</font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">ARDAAAE-2117</font></td>
		<td align="left" valign=top><font color="#000000">MCU</font></td>
		<td align="left" valign=top><font color="#000000">Tool User Manual error:ERR101044 and ERR101008</font></td>
		<td align="left" valign=top><font color="#000000">There is a contradiction with the error messages:<br>*<br>ERR101008:* The configured value in 'McuExternalClockX' in container<br>'McuExternalClkOutSetting' should be equal to<br>&lt;McuExternalClkXSourceSel/McuExternalClkXDividerSel&gt;.<br>This error occurs, if the configured value in McuExternalClockX in container<br>McuExternalClkOutSetting is not equal to &lt;McuExternalClkXSourceSel/McuExternalClkXDividerSel&gt;.<br>Remark Where X=0 or 1<br><br>*ERR101044*: The configured value for parameter ‘McuExternalClockX’ in<br>container 'McuExternalClkOutSetting’ should be equal to 0.<br>This error occurs, if the value configured for the parameter McuExternalClockX<br>in container McuExternalClkOutSetting is not equal to 0.<br>Remark Where X=0 or 1<br><br>But the condition for ERR101044 is not clear enough in the user manual for when to set this value to 0 or 1 or when to use the &lt;McuExternalClkXSourceSel/McuExternalClkXDividerSel&gt; value</font></td>
		<td align="left" valign=top><font color="#000000">Condition should be documented for setting the McuExternalClockX value to 0 or 1 when the &lt;McuExternalClkXSourceSel/McuExternalClkXDividerSel&gt; is not selectable (i.e MCU_NO_OUTPUT)</font></td>
		<td align="left" valign=top><font color="#000000">Condition is not documented for setting the McuExternalClockX value to 0 or 1 when the &lt;McuExternalClkXSourceSel/McuExternalClkXDividerSel&gt; is not selectable (i.e MCU_NO_OUTPUT)</font></td>
		<td align="left" valign=top><font color="#000000">Generator, Document</font></td>
		<td align="left" valign=top><font color="#000000">Open</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">Ver4.01.01.D</font></td>
		<td align="left" valign=top><font color="#000000">Bug</font></td>
		<td align="left" valign=top><font color="#000000">Yes</font></td>
	</tr>
	<tr>
		<td height="20" align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">ARDAAAE-2119</font></td>
		<td align="left" valign=top><font color="#000000">SPI</font></td>
		<td align="left" valign=top><font color="#000000">Setting of configuration register is not done always during concurrent synchronous transmission</font></td>
		<td align="left" valign=top><font color="#000000">When parameter  SpiSupportConcurrentSyncTransmit  is set to 'enabled' and SpiPersistentHWConfiguration is configured as true, setting of configuration register is not done always for the hardware unit in first sequence being transmitted during concurrent synchronous transmission since global variable 'Spi_GblSyncTx' is updated wrongly by the sequence called by ISR.<br></font></td>
		<td align="left" valign=top><font color="#000000">Setting of configuration register should be done always for all sequences being transmitted in concurrent synchronous transmission.</font></td>
		<td align="left" valign=top><font color="#000000">Setting of configuration register is not done always during concurrent synchronous transmission</font></td>
		<td align="left" valign=top><font color="#000000">Code</font></td>
		<td align="left" valign=top><font color="#000000">Open</font></td>
		<td align="left" valign=top><font color="#000000"><br></font></td>
		<td align="left" valign=top><font color="#000000">Ver4.01.00</font></td>
		<td align="left" valign=top><font color="#000000">Bug</font></td>
		<td align="left" valign=top><font color="#000000">Yes</font></td>
	</tr>
	<tr>
		<td style="border-top: 1px solid #000000" height="20" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="right" valign=top bgcolor="#F2F2F2" sdval="6" sdnum="1033;"><b><font color="#000000">6</font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
		<td style="border-top: 1px solid #000000" align="left" valign=top bgcolor="#F2F2F2"><b><font color="#000000"><br></font></b></td>
	</tr>
</table>
<!-- ************************************************************************** -->
</body>

</html>

{% endraw %}